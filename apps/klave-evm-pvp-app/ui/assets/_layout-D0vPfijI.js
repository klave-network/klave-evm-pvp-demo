import{u as S,r as w,R as b,j as e,O as U,L as K,s as i,K as N,a as C,i as m,t as v,g as R}from"./index-BywUjjZ0.js";import{u,C as h,A as _}from"./add-user-em8nJeId.js";import{S as E,a as P,b as A,c as I,d as L,e as O,f as D,g as k}from"./select-Bu_E562U.js";import{c as B}from"./createLucideIcon-KQzBVrld.js";import"./dialog-DPj_OHp6.js";import"./index-bzM2dxcA.js";import"./card-D4Rz1kPw.js";import"./index-BmhQrHE4.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],V=B("UserRound",F),z={userA:"Bob",userB:"Alice",swiftOrchestre:"Klave Swift Account"},x=c=>z[c]||c,X=function(){const p=S(),[H,o]=w.useState(!1),{currentUser:j,userKeys:f}=b.useLoaderData(),[r,T]=u(K,f),[l,g]=u("currentUser",j),y=async s=>{g(s),localStorage.setItem("currentUser",s),o(!0);const a=r.find(n=>n.name===s);if(a){await i.disconnect();const n=i.use(a,N).then(C.importKey).then(t=>t.getRawPublicKey()).then(t=>m.Utils.hash(t)).then(t=>(window.currentDevicePublicKeyHash=m.Utils.toBase64(t,!0),i.connect())).catch(t=>{throw console.error(t),new Error("Failed to connect")});v.promise(n,{loading:"Connecting...",success:`Connected with ${a.name}.`,error:`Failed to connect with ${a.name}.`}),await n,await R(),o(!1),p.invalidate()}},d=r.find(s=>s.name===l)||r[0];return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("header",{className:"bg-[#c9f8ea] border-b border-border",children:e.jsx(h,{children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Digital Assets Interoperability Platform"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(E,{value:l,onValueChange:y,children:[e.jsx(P,{className:"w-[180px] bg-white",children:e.jsx(A,{placeholder:"Select an account",children:d?x(d.name):"Select a user"})}),e.jsxs(I,{children:[e.jsxs(L,{children:[e.jsx(O,{children:"Accounts"}),r.map(s=>e.jsx(D,{value:s.name,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:16}),e.jsx("span",{children:x(s.name)})]})},s.name))]}),e.jsx(k,{}),e.jsx(_,{})]})]})})]})})}),e.jsx("main",{className:"flex-1 bg-background",children:e.jsx(h,{className:"py-6",children:e.jsx(U,{})})})]})};export{X as component};
