import{r as z,j as r,f as gt,t as pe,d as A,u as vt,h as pt,z as Y,k as bt,l as jt,m as _t}from"./index-BywUjjZ0.js";import{L as Es}from"./link-Bd9Pi55T.js";import{C as Ts,e as We,c as He,b as Ke,d as wt}from"./card-D4Rz1kPw.js";import{c as Ls,t as Le,B as te,g as Nt,b as vs,f as Ft,a as be,S as At,d as Ze,w as Ge}from"./createLucideIcon-KQzBVrld.js";import{D as Ms,a as Is,P as Os,b as Ps,c as Rs,d as Us,e as Bs,f as Vt}from"./dialog-DPj_OHp6.js";import{P as kt}from"./index-bzM2dxcA.js";import{S as ue,a as fe,b as me,c as he,d as ps,f as q}from"./select-Bu_E562U.js";import{L as Ee}from"./loader-Bvj9U2Ik.js";import{C as Je}from"./copy-Bp1HvdY-.js";import"./index-BmhQrHE4.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qs=Ls("ExternalLink",St);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dt=Ls("RefreshCw",Ct);function Et(e,t,s){if(!e.length)return[];const a=e.map(l=>{const c=l.payment_vs_payment.source,u=l.payment_vs_payment.destination,v=l.payment_vs_payment.state_machine,y=Nt(v),g=s&&c.address.toLowerCase()===s.toLowerCase(),b=s&&u.address.toLowerCase()===s.toLowerCase();return{id:l.id,shortId:l.id.substring(0,8),timestamp:l.timestamp,formattedDate:Ft(l.timestamp),sourceNetwork:c.network_name,sourceAsset:vs(c.network_name),sourceAddress:c.address,sourceAmount:c.amount,destinationNetwork:u.network_name,destinationAsset:vs(u.network_name),destinationAddress:u.address,destinationAmount:u.amount,stateMachine:v,status:y,escrowAddress:l.escrow_address,isSent:g,isReceived:b}});let n=a;return t&&(n=a.filter(l=>t==="sent"?l.isSent:t==="received"?l.isReceived:!0)),n.sort((l,c)=>Number(BigInt(c.timestamp)-BigInt(l.timestamp)))}function Tt({transactions:e,walletAddress:t,type:s}){const a=z.useMemo(()=>Et(e,s,t),[e,s,t]);return r.jsx(Ts,{className:"space-y-4",children:e.length===0?r.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No transactions found"}):r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-[1fr_1fr_1fr_1fr_auto] gap-4 p-4 text-sm font-medium text-muted-foreground",children:[r.jsx("div",{children:"Asset"}),r.jsx("div",{className:"hidden md:block",children:"Date"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"ID"}),r.jsx("div",{children:"Action"})]}),r.jsx("div",{className:"divide-y",children:a.map(n=>r.jsxs("div",{className:"grid grid-cols-[1fr_1fr_1fr_1fr_auto] gap-4 p-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dt,{className:"h-5 w-5 text-blue-500"}),r.jsx("div",{children:t===n.sourceAddress?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-medium flex items-center gap-1",children:r.jsx("span",{children:n.destinationAsset})}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["to ",n.sourceAsset]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-medium flex items-center gap-1",children:r.jsx("span",{children:n.sourceAsset})}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["to ",n.destinationAsset]})]})})]}),r.jsxs("div",{className:"hidden md:flex flex-col justify-center",children:[r.jsx("div",{className:"font-medium",children:n.formattedDate}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Escrow:"," ",Le(n.escrowAddress)]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:`rounded-full px-2 py-1 text-xs font-medium ${n.status.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":n.status.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:n.status.label})}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"font-mono text-xs",children:n.shortId})}),r.jsx("div",{className:"flex items-center",children:r.jsx(te,{variant:"outline",size:"sm",className:"flex items-center gap-1",asChild:!0,children:r.jsxs(Es,{search:!0,to:"/transaction/$id",params:{id:n.id},children:[r.jsx(qs,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"See details"})]})})})]},n.id))})]})})}var Lt="Label",zs=z.forwardRef((e,t)=>r.jsx(kt.label,{...e,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));zs.displayName=Lt;var Mt=zs;function es({className:e,...t}){return r.jsx(Mt,{"data-slot":"label",className:be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const It=()=>{const[e,t]=z.useState(!1),[s,a]=z.useState(!1),[n,l]=z.useState(""),[c,u]=z.useState(""),v=async()=>{a(!0);try{const y=await gt(n,c,JSON.stringify({username:"foo",password:"Anrion3nvb9312"}));pe.success("Network Added Successfully",{description:`Added ${n} network.`}),console.log("Network added result:",y)}catch(y){console.error("Failed to add network:",y),pe.error("Failed to Add Network",{description:y instanceof Error?y.message:String(y)})}finally{a(!1)}};return r.jsxs(Ms,{open:e,onOpenChange:y=>t(y),children:[r.jsx(Is,{asChild:!0,children:r.jsxs(te,{size:"sm",className:"hover:cursor-pointer",children:[r.jsx(Os,{className:"mr-1"}),"Add Network"]})}),r.jsxs(Ps,{className:"sm:max-w-[425px]",children:[r.jsxs(Rs,{children:[r.jsx(Us,{children:"Add Network"}),r.jsx(Bs,{children:"Click submit when you're done."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(es,{htmlFor:"name",className:"text-right",children:"Name"}),r.jsxs(ue,{onValueChange:l,children:[r.jsx(fe,{className:"col-span-3 w-full",id:"name",children:r.jsx(me,{placeholder:"Select an account",children:"aa"})}),r.jsx(he,{children:r.jsxs(ps,{children:[r.jsx(q,{value:"user1",children:"Bob"}),r.jsx(q,{value:"user2",children:"Alice"}),r.jsx(q,{value:"klave-swift",children:"Klave Swift Account"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(es,{htmlFor:"rpcUrl",className:"text-right",children:"RPC URL"}),r.jsxs(ue,{onValueChange:u,children:[r.jsx(fe,{className:"col-span-3 w-full",id:"rpcUrl",children:r.jsx(me,{placeholder:"Select an account",children:"aa"})}),r.jsx(he,{children:r.jsxs(ps,{children:[r.jsx(q,{value:"user1",children:"Bob"}),r.jsx(q,{value:"user2",children:"Alice"}),r.jsx(q,{value:"klave-swift",children:"Klave Swift Account"})]})})]})]})]}),r.jsx(Vt,{children:r.jsx(te,{type:"submit",onClick:v,disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):r.jsx(r.Fragment,{children:"Submit"})})})]})]})};function bs({className:e,type:t,...s}){return r.jsx("input",{type:t,"data-slot":"input",className:be("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var Se=e=>e.type==="checkbox",xe=e=>e instanceof Date,P=e=>e==null;const $s=e=>typeof e=="object";var k=e=>!P(e)&&!Array.isArray(e)&&$s(e)&&!xe(e),Ws=e=>k(e)&&e.target?Se(e.target)?e.target.checked:e.target.value:e,Ot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Hs=(e,t)=>e.has(Ot(t)),Pt=e=>{const t=e.constructor&&e.constructor.prototype;return k(t)&&t.hasOwnProperty("isPrototypeOf")},ts=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ts&&(e instanceof Blob||a))&&(s||k(e)))if(t=s?[]:{},!s&&!Pt(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=R(e[n]));else return e;return t}var Re=e=>Array.isArray(e)?e.filter(Boolean):[],V=e=>e===void 0,m=(e,t,s)=>{if(!t||!k(e))return s;const a=Re(t.split(/[,[\].]+?/)).reduce((n,l)=>P(n)?n:n[l],e);return V(a)||a===e?V(e[t])?s:e[t]:a},H=e=>typeof e=="boolean",rs=e=>/^\w*$/.test(e),Ks=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,t,s)=>{let a=-1;const n=rs(t)?[t]:Ks(t),l=n.length,c=l-1;for(;++a<l;){const u=n[a];let v=s;if(a!==c){const y=e[u];v=k(y)||Array.isArray(y)?y:isNaN(+n[a+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=v,e=e[u]}return e};const Me={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gs=A.createContext(null),Ue=()=>A.useContext(Gs),Rt=e=>{const{children:t,...s}=e;return A.createElement(Gs.Provider,{value:s},t)};var Js=(e,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const c=l;return t._proxyFormState[c]!==G.all&&(t._proxyFormState[c]=!a||G.all),s&&(s[c]=!0),e[c]}});return n},U=e=>k(e)&&!Object.keys(e).length,Ys=(e,t,s,a)=>{s(e);const{name:n,...l}=e;return U(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!a||G.all))},Ve=e=>Array.isArray(e)?e:[e],Qs=(e,t,s)=>!e||!t||e===t||Ve(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a)));function is(e){const t=A.useRef(e);t.current=e,A.useEffect(()=>{const s=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}function Xs(e){const t=Ue(),{control:s=t.control,disabled:a,name:n,exact:l}=e||{},[c,u]=A.useState(s._formState),v=A.useRef(!0),y=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=A.useRef(n);return g.current=n,is({disabled:a,next:b=>v.current&&Qs(g.current,b.name,l)&&Ys(b,y.current,s._updateFormState)&&u({...s._formState,...b}),subject:s._subjects.state}),A.useEffect(()=>(v.current=!0,y.current.isValid&&s._updateValid(!0),()=>{v.current=!1}),[s]),A.useMemo(()=>Js(c,s,y.current,!1),[c,s])}var X=e=>typeof e=="string",Zs=(e,t,s,a,n)=>X(e)?(a&&t.watch.add(e),m(s,e,n)):Array.isArray(e)?e.map(l=>(a&&t.watch.add(l),m(s,l))):(a&&(t.watchAll=!0),s);function Ut(e){const t=Ue(),{control:s=t.control,name:a,defaultValue:n,disabled:l,exact:c}=e||{},u=A.useRef(a);u.current=a,is({disabled:l,subject:s._subjects.values,next:g=>{Qs(u.current,g.name,c)&&y(R(Zs(u.current,s._names,g.values||s._formValues,!1,n)))}});const[v,y]=A.useState(s._getWatch(a,n));return A.useEffect(()=>s._removeUnmounted()),v}function Bt(e){const t=Ue(),{name:s,disabled:a,control:n=t.control,shouldUnregister:l}=e,c=Hs(n._names.array,s),u=Ut({control:n,name:s,defaultValue:m(n._formValues,s,m(n._defaultValues,s,e.defaultValue)),exact:!0}),v=Xs({control:n,name:s,exact:!0}),y=A.useRef(n.register(s,{...e.rules,value:u,...H(e.disabled)?{disabled:e.disabled}:{}})),g=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(v.errors,s)},isDirty:{enumerable:!0,get:()=>!!m(v.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!m(v.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!m(v.validatingFields,s)},error:{enumerable:!0,get:()=>m(v.errors,s)}}),[v,s]),b=A.useMemo(()=>({name:s,value:u,...H(a)||v.disabled?{disabled:v.disabled||a}:{},onChange:L=>y.current.onChange({target:{value:Ws(L),name:s},type:Me.CHANGE}),onBlur:()=>y.current.onBlur({target:{value:m(n._formValues,s),name:s},type:Me.BLUR}),ref:L=>{const J=m(n._fields,s);J&&L&&(J._f.ref={focus:()=>L.focus(),select:()=>L.select(),setCustomValidity:M=>L.setCustomValidity(M),reportValidity:()=>L.reportValidity()})}}),[s,n._formValues,a,v.disabled,u,n._fields]);return A.useEffect(()=>{const L=n._options.shouldUnregister||l,J=(M,O)=>{const B=m(n._fields,M);B&&B._f&&(B._f.mount=O)};if(J(s,!0),L){const M=R(m(n._options.defaultValues,s));F(n._defaultValues,s,M),V(m(n._formValues,s))&&F(n._formValues,s,M)}return!c&&n.register(s),()=>{(c?L&&!n._state.action:L)?n.unregister(s):J(s,!1)}},[s,n,c,l]),A.useEffect(()=>{n._updateDisabledField({disabled:a,fields:n._fields,name:s})},[a,s,n]),A.useMemo(()=>({field:b,formState:v,fieldState:g}),[b,v,g])}const qt=e=>e.render(Bt(e));var et=(e,t,s,a,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:n||!0}}:{},js=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),_s=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ke=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const l=m(e,n);if(l){const{_f:c,...u}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],n)&&!a)return!0;if(c.ref&&t(c.ref,c.name)&&!a)return!0;if(ke(u,t))break}else if(k(u)&&ke(u,t))break}}};var zt=(e,t,s)=>{const a=Ve(m(e,s));return F(a,"root",t[s]),F(e,s,a),e},as=e=>e.type==="file",Q=e=>typeof e=="function",Ie=e=>{if(!ts)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Te=e=>X(e),ns=e=>e.type==="radio",Oe=e=>e instanceof RegExp;const ws={value:!1,isValid:!1},Ns={value:!0,isValid:!0};var st=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!V(e[0].attributes.value)?V(e[0].value)||e[0].value===""?Ns:{value:e[0].value,isValid:!0}:Ns:ws}return ws};const Fs={isValid:!1,value:null};var tt=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Fs):Fs;function As(e,t,s="validate"){if(Te(e)||Array.isArray(e)&&e.every(Te)||H(e)&&!e)return{type:s,message:Te(e)?e:"",ref:t}}var ve=e=>k(e)&&!Oe(e)?e:{value:e,message:""},Vs=async(e,t,s,a,n,l)=>{const{ref:c,refs:u,required:v,maxLength:y,minLength:g,min:b,max:L,pattern:J,validate:M,name:O,valueAsNumber:B,mount:re}=e._f,w=m(s,O);if(!re||t.has(O))return{};const Z=u?u[0]:c,ee=_=>{n&&Z.reportValidity&&(Z.setCustomValidity(H(_)?"":_||""),Z.reportValidity())},S={},ye=ns(c),Ce=Se(c),ne=ye||Ce,ge=(B||as(c))&&V(c.value)&&V(w)||Ie(c)&&c.value===""||w===""||Array.isArray(w)&&!w.length,$=et.bind(null,O,a,S),De=(_,N,C,I=se.maxLength,K=se.minLength)=>{const W=_?N:C;S[O]={type:_?I:K,message:W,ref:c,...$(_?I:K,W)}};if(l?!Array.isArray(w)||!w.length:v&&(!ne&&(ge||P(w))||H(w)&&!w||Ce&&!st(u).isValid||ye&&!tt(u).isValid)){const{value:_,message:N}=Te(v)?{value:!!v,message:v}:ve(v);if(_&&(S[O]={type:se.required,message:N,ref:Z,...$(se.required,N)},!a))return ee(N),S}if(!ge&&(!P(b)||!P(L))){let _,N;const C=ve(L),I=ve(b);if(!P(w)&&!isNaN(w)){const K=c.valueAsNumber||w&&+w;P(C.value)||(_=K>C.value),P(I.value)||(N=K<I.value)}else{const K=c.valueAsDate||new Date(w),W=we=>new Date(new Date().toDateString()+" "+we),je=c.type=="time",_e=c.type=="week";X(C.value)&&w&&(_=je?W(w)>W(C.value):_e?w>C.value:K>new Date(C.value)),X(I.value)&&w&&(N=je?W(w)<W(I.value):_e?w<I.value:K<new Date(I.value))}if((_||N)&&(De(!!_,C.message,I.message,se.max,se.min),!a))return ee(S[O].message),S}if((y||g)&&!ge&&(X(w)||l&&Array.isArray(w))){const _=ve(y),N=ve(g),C=!P(_.value)&&w.length>+_.value,I=!P(N.value)&&w.length<+N.value;if((C||I)&&(De(C,_.message,N.message),!a))return ee(S[O].message),S}if(J&&!ge&&X(w)){const{value:_,message:N}=ve(J);if(Oe(_)&&!w.match(_)&&(S[O]={type:se.pattern,message:N,ref:c,...$(se.pattern,N)},!a))return ee(N),S}if(M){if(Q(M)){const _=await M(w,s),N=As(_,Z);if(N&&(S[O]={...N,...$(se.validate,N.message)},!a))return ee(N.message),S}else if(k(M)){let _={};for(const N in M){if(!U(_)&&!a)break;const C=As(await M[N](w,s),Z,N);C&&(_={...C,...$(N,C.message)},ee(C.message),a&&(S[O]=_))}if(!U(_)&&(S[O]={ref:Z,..._},!a))return S}}return ee(!0),S};function $t(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=V(e)?a++:e[t[a++]];return e}function Wt(e){for(const t in e)if(e.hasOwnProperty(t)&&!V(e[t]))return!1;return!0}function D(e,t){const s=Array.isArray(t)?t:rs(t)?[t]:Ks(t),a=s.length===1?e:$t(e,s),n=s.length-1,l=s[n];return a&&delete a[l],n!==0&&(k(a)&&U(a)||Array.isArray(a)&&Wt(a))&&D(e,s.slice(0,-1)),e}var Ye=()=>{let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}},ss=e=>P(e)||!$s(e);function ae(e,t){if(ss(e)||ss(t))return e===t;if(xe(e)&&xe(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(const n of s){const l=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const c=t[n];if(xe(l)&&xe(c)||k(l)&&k(c)||Array.isArray(l)&&Array.isArray(c)?!ae(l,c):l!==c)return!1}}return!0}var rt=e=>e.type==="select-multiple",Ht=e=>ns(e)||Se(e),Qe=e=>Ie(e)&&e.isConnected,it=e=>{for(const t in e)if(Q(e[t]))return!0;return!1};function Pe(e,t={}){const s=Array.isArray(e);if(k(e)||s)for(const a in e)Array.isArray(e[a])||k(e[a])&&!it(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Pe(e[a],t[a])):P(e[a])||(t[a]=!0);return t}function at(e,t,s){const a=Array.isArray(e);if(k(e)||a)for(const n in e)Array.isArray(e[n])||k(e[n])&&!it(e[n])?V(t)||ss(s[n])?s[n]=Array.isArray(e[n])?Pe(e[n],[]):{...Pe(e[n])}:at(e[n],P(t)?{}:t[n],s[n]):s[n]=!ae(e[n],t[n]);return s}var Ne=(e,t)=>at(e,t,Pe(t)),nt=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>V(e)?e:t?e===""?NaN:e&&+e:s&&X(e)?new Date(e):a?a(e):e;function Xe(e){const t=e.ref;return as(t)?t.files:ns(t)?tt(e.refs).value:rt(t)?[...t.selectedOptions].map(({value:s})=>s):Se(t)?st(e.refs).value:nt(V(t.value)?e.ref.value:t.value,e)}var Kt=(e,t,s,a)=>{const n={};for(const l of e){const c=m(t,l);c&&F(n,l,c._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}},Fe=e=>V(e)?e:Oe(e)?e.source:k(e)?Oe(e.value)?e.value.source:e.value:e;const ks="AsyncFunction";var Gt=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===ks||k(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ks)),Jt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ss(e,t,s){const a=m(e,s);if(a||rs(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const l=n.join("."),c=m(t,l),u=m(e,l);if(c&&!Array.isArray(c)&&s!==l)return{name:s};if(u&&u.type)return{name:l,error:u};n.pop()}return{name:s}}var Yt=(e,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:(s?a.isOnChange:n.isOnChange)?e:!0,Qt=(e,t)=>!Re(m(e,t)).length&&D(e,t);const Xt={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function Zt(e={}){let t={...Xt,...e},s={submitCount:0,isDirty:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=k(t.defaultValues)||k(t.values)?R(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:R(n),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,y=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ye(),array:Ye(),state:Ye()},L=js(t.mode),J=js(t.reValidateMode),M=t.criteriaMode===G.all,O=i=>o=>{clearTimeout(y),y=setTimeout(i,o)},B=async i=>{if(!t.disabled&&(g.isValid||i)){const o=t.resolver?U((await ne()).errors):await $(a,!0);o!==s.isValid&&b.state.next({isValid:o})}},re=(i,o)=>{!t.disabled&&(g.isValidating||g.validatingFields)&&((i||Array.from(u.mount)).forEach(d=>{d&&(o?F(s.validatingFields,d,o):D(s.validatingFields,d))}),b.state.next({validatingFields:s.validatingFields,isValidating:!U(s.validatingFields)}))},w=(i,o=[],d,x,h=!0,f=!0)=>{if(x&&d&&!t.disabled){if(c.action=!0,f&&Array.isArray(m(a,i))){const p=d(m(a,i),x.argA,x.argB);h&&F(a,i,p)}if(f&&Array.isArray(m(s.errors,i))){const p=d(m(s.errors,i),x.argA,x.argB);h&&F(s.errors,i,p),Qt(s.errors,i)}if(g.touchedFields&&f&&Array.isArray(m(s.touchedFields,i))){const p=d(m(s.touchedFields,i),x.argA,x.argB);h&&F(s.touchedFields,i,p)}g.dirtyFields&&(s.dirtyFields=Ne(n,l)),b.state.next({name:i,isDirty:_(i,o),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else F(l,i,o)},Z=(i,o)=>{F(s.errors,i,o),b.state.next({errors:s.errors})},ee=i=>{s.errors=i,b.state.next({errors:s.errors,isValid:!1})},S=(i,o,d,x)=>{const h=m(a,i);if(h){const f=m(l,i,V(d)?m(n,i):d);V(f)||x&&x.defaultChecked||o?F(l,i,o?f:Xe(h._f)):I(i,f),c.mount&&B()}},ye=(i,o,d,x,h)=>{let f=!1,p=!1;const j={name:i};if(!t.disabled){const E=!!(m(a,i)&&m(a,i)._f&&m(a,i)._f.disabled);if(!d||x){g.isDirty&&(p=s.isDirty,s.isDirty=j.isDirty=_(),f=p!==j.isDirty);const T=E||ae(m(n,i),o);p=!!(!E&&m(s.dirtyFields,i)),T||E?D(s.dirtyFields,i):F(s.dirtyFields,i,!0),j.dirtyFields=s.dirtyFields,f=f||g.dirtyFields&&p!==!T}if(d){const T=m(s.touchedFields,i);T||(F(s.touchedFields,i,d),j.touchedFields=s.touchedFields,f=f||g.touchedFields&&T!==d)}f&&h&&b.state.next(j)}return f?j:{}},Ce=(i,o,d,x)=>{const h=m(s.errors,i),f=g.isValid&&H(o)&&s.isValid!==o;if(t.delayError&&d?(v=O(()=>Z(i,d)),v(t.delayError)):(clearTimeout(y),v=null,d?F(s.errors,i,d):D(s.errors,i)),(d?!ae(h,d):h)||!U(x)||f){const p={...x,...f&&H(o)?{isValid:o}:{},errors:s.errors,name:i};s={...s,...p},b.state.next(p)}},ne=async i=>{re(i,!0);const o=await t.resolver(l,t.context,Kt(i||u.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return re(i),o},ge=async i=>{const{errors:o}=await ne(i);if(i)for(const d of i){const x=m(o,d);x?F(s.errors,d,x):D(s.errors,d)}else s.errors=o;return o},$=async(i,o,d={valid:!0})=>{for(const x in i){const h=i[x];if(h){const{_f:f,...p}=h;if(f){const j=u.array.has(f.name),E=h._f&&Gt(h._f);E&&g.validatingFields&&re([x],!0);const T=await Vs(h,u.disabled,l,M,t.shouldUseNativeValidation&&!o,j);if(E&&g.validatingFields&&re([x]),T[f.name]&&(d.valid=!1,o))break;!o&&(m(T,f.name)?j?zt(s.errors,T,f.name):F(s.errors,f.name,T[f.name]):D(s.errors,f.name))}!U(p)&&await $(p,o,d)}}return d.valid},De=()=>{for(const i of u.unMount){const o=m(a,i);o&&(o._f.refs?o._f.refs.every(d=>!Qe(d)):!Qe(o._f.ref))&&Be(i)}u.unMount=new Set},_=(i,o)=>!t.disabled&&(i&&o&&F(l,i,o),!ae(os(),n)),N=(i,o,d)=>Zs(i,u,{...c.mount?l:V(o)?n:X(i)?{[i]:o}:o},d,o),C=i=>Re(m(c.mount?l:n,i,t.shouldUnregister?m(n,i,[]):[])),I=(i,o,d={})=>{const x=m(a,i);let h=o;if(x){const f=x._f;f&&(!f.disabled&&F(l,i,nt(o,f)),h=Ie(f.ref)&&P(o)?"":o,rt(f.ref)?[...f.ref.options].forEach(p=>p.selected=h.includes(p.value)):f.refs?Se(f.ref)?f.refs.length>1?f.refs.forEach(p=>(!p.defaultChecked||!p.disabled)&&(p.checked=Array.isArray(h)?!!h.find(j=>j===p.value):h===p.value)):f.refs[0]&&(f.refs[0].checked=!!h):f.refs.forEach(p=>p.checked=p.value===h):as(f.ref)?f.ref.value="":(f.ref.value=h,f.ref.type||b.values.next({name:i,values:{...l}})))}(d.shouldDirty||d.shouldTouch)&&ye(i,h,d.shouldTouch,d.shouldDirty,!0),d.shouldValidate&&we(i)},K=(i,o,d)=>{for(const x in o){const h=o[x],f=`${i}.${x}`,p=m(a,f);(u.array.has(i)||k(h)||p&&!p._f)&&!xe(h)?K(f,h,d):I(f,h,d)}},W=(i,o,d={})=>{const x=m(a,i),h=u.array.has(i),f=R(o);F(l,i,f),h?(b.array.next({name:i,values:{...l}}),(g.isDirty||g.dirtyFields)&&d.shouldDirty&&b.state.next({name:i,dirtyFields:Ne(n,l),isDirty:_(i,f)})):x&&!x._f&&!P(f)?K(i,f,d):I(i,f,d),_s(i,u)&&b.state.next({...s}),b.values.next({name:c.mount?i:void 0,values:{...l}})},je=async i=>{c.mount=!0;const o=i.target;let d=o.name,x=!0;const h=m(a,d),f=()=>o.type?Xe(h._f):Ws(i),p=j=>{x=Number.isNaN(j)||xe(j)&&isNaN(j.getTime())||ae(j,m(l,d,j))};if(h){let j,E;const T=f(),ie=i.type===Me.BLUR||i.type===Me.FOCUS_OUT,ht=!Jt(h._f)&&!t.resolver&&!m(s.errors,d)&&!h._f.deps||Yt(ie,m(s.touchedFields,d),s.isSubmitted,J,L),ze=_s(d,u,ie);F(l,d,T),ie?(h._f.onBlur&&h._f.onBlur(i),v&&v(0)):h._f.onChange&&h._f.onChange(i);const $e=ye(d,T,ie,!1),xt=!U($e)||ze;if(!ie&&b.values.next({name:d,type:i.type,values:{...l}}),ht)return g.isValid&&(t.mode==="onBlur"&&ie?B():ie||B()),xt&&b.state.next({name:d,...ze?{}:$e});if(!ie&&ze&&b.state.next({...s}),t.resolver){const{errors:ys}=await ne([d]);if(p(T),x){const yt=Ss(s.errors,a,d),gs=Ss(ys,a,yt.name||d);j=gs.error,d=gs.name,E=U(ys)}}else re([d],!0),j=(await Vs(h,u.disabled,l,M,t.shouldUseNativeValidation))[d],re([d]),p(T),x&&(j?E=!1:g.isValid&&(E=await $(a,!0)));x&&(h._f.deps&&we(h._f.deps),Ce(d,E,j,$e))}},_e=(i,o)=>{if(m(s.errors,o)&&i.focus)return i.focus(),1},we=async(i,o={})=>{let d,x;const h=Ve(i);if(t.resolver){const f=await ge(V(i)?i:h);d=U(f),x=i?!h.some(p=>m(f,p)):d}else i?(x=(await Promise.all(h.map(async f=>{const p=m(a,f);return await $(p&&p._f?{[f]:p}:p)}))).every(Boolean),!(!x&&!s.isValid)&&B()):x=d=await $(a);return b.state.next({...!X(i)||g.isValid&&d!==s.isValid?{}:{name:i},...t.resolver||!i?{isValid:d}:{},errors:s.errors}),o.shouldFocus&&!x&&ke(a,_e,i?h:u.mount),x},os=i=>{const o={...c.mount?l:n};return V(i)?o:X(i)?m(o,i):i.map(d=>m(o,d))},ds=(i,o)=>({invalid:!!m((o||s).errors,i),isDirty:!!m((o||s).dirtyFields,i),error:m((o||s).errors,i),isValidating:!!m(s.validatingFields,i),isTouched:!!m((o||s).touchedFields,i)}),ct=i=>{i&&Ve(i).forEach(o=>D(s.errors,o)),b.state.next({errors:i?s.errors:{}})},cs=(i,o,d)=>{const x=(m(a,i,{_f:{}})._f||{}).ref,h=m(s.errors,i)||{},{ref:f,message:p,type:j,...E}=h;F(s.errors,i,{...E,...o,ref:x}),b.state.next({name:i,errors:s.errors,isValid:!1}),d&&d.shouldFocus&&x&&x.focus&&x.focus()},ut=(i,o)=>Q(i)?b.values.subscribe({next:d=>i(N(void 0,o),d)}):N(i,o,!0),Be=(i,o={})=>{for(const d of i?Ve(i):u.mount)u.mount.delete(d),u.array.delete(d),o.keepValue||(D(a,d),D(l,d)),!o.keepError&&D(s.errors,d),!o.keepDirty&&D(s.dirtyFields,d),!o.keepTouched&&D(s.touchedFields,d),!o.keepIsValidating&&D(s.validatingFields,d),!t.shouldUnregister&&!o.keepDefaultValue&&D(n,d);b.values.next({values:{...l}}),b.state.next({...s,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&B()},us=({disabled:i,name:o,field:d,fields:x})=>{(H(i)&&c.mount||i||u.disabled.has(o))&&(i?u.disabled.add(o):u.disabled.delete(o),ye(o,Xe(d?d._f:m(x,o)._f),!1,!1,!0))},qe=(i,o={})=>{let d=m(a,i);const x=H(o.disabled)||H(t.disabled);return F(a,i,{...d||{},_f:{...d&&d._f?d._f:{ref:{name:i}},name:i,mount:!0,...o}}),u.mount.add(i),d?us({field:d,disabled:H(o.disabled)?o.disabled:t.disabled,name:i}):S(i,!0,o.value),{...x?{disabled:o.disabled||t.disabled}:{},...t.progressive?{required:!!o.required,min:Fe(o.min),max:Fe(o.max),minLength:Fe(o.minLength),maxLength:Fe(o.maxLength),pattern:Fe(o.pattern)}:{},name:i,onChange:je,onBlur:je,ref:h=>{if(h){qe(i,o),d=m(a,i);const f=V(h.value)&&h.querySelectorAll&&h.querySelectorAll("input,select,textarea")[0]||h,p=Ht(f),j=d._f.refs||[];if(p?j.find(E=>E===f):f===d._f.ref)return;F(a,i,{_f:{...d._f,...p?{refs:[...j.filter(Qe),f,...Array.isArray(m(n,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),S(i,!1,void 0,f)}else d=m(a,i,{}),d._f&&(d._f.mount=!1),(t.shouldUnregister||o.shouldUnregister)&&!(Hs(u.array,i)&&c.action)&&u.unMount.add(i)}}},fs=()=>t.shouldFocusError&&ke(a,_e,u.mount),ft=i=>{H(i)&&(b.state.next({disabled:i}),ke(a,(o,d)=>{const x=m(a,d);x&&(o.disabled=x._f.disabled||i,Array.isArray(x._f.refs)&&x._f.refs.forEach(h=>{h.disabled=x._f.disabled||i}))},0,!1))},ms=(i,o)=>async d=>{let x;d&&(d.preventDefault&&d.preventDefault(),d.persist&&d.persist());let h=R(l);if(u.disabled.size)for(const f of u.disabled)F(h,f,void 0);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:f,values:p}=await ne();s.errors=f,h=p}else await $(a);if(D(s.errors,"root"),U(s.errors)){b.state.next({errors:{}});try{await i(h,d)}catch(f){x=f}}else o&&await o({...s.errors},d),fs(),setTimeout(fs);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(s.errors)&&!x,submitCount:s.submitCount+1,errors:s.errors}),x)throw x},mt=(i,o={})=>{m(a,i)&&(V(o.defaultValue)?W(i,R(m(n,i))):(W(i,o.defaultValue),F(n,i,R(o.defaultValue))),o.keepTouched||D(s.touchedFields,i),o.keepDirty||(D(s.dirtyFields,i),s.isDirty=o.defaultValue?_(i,R(m(n,i))):_()),o.keepError||(D(s.errors,i),g.isValid&&B()),b.state.next({...s}))},hs=(i,o={})=>{const d=i?R(i):n,x=R(d),h=U(i),f=h?n:x;if(o.keepDefaultValues||(n=d),!o.keepValues){if(o.keepDirtyValues){const p=new Set([...u.mount,...Object.keys(Ne(n,l))]);for(const j of Array.from(p))m(s.dirtyFields,j)?F(f,j,m(l,j)):W(j,m(f,j))}else{if(ts&&V(i))for(const p of u.mount){const j=m(a,p);if(j&&j._f){const E=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(Ie(E)){const T=E.closest("form");if(T){T.reset();break}}}}a={}}l=t.shouldUnregister?o.keepDefaultValues?R(n):{}:R(f),b.array.next({values:{...f}}),b.values.next({values:{...f}})}u={mount:o.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!o.keepIsValid||!!o.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:o.keepSubmitCount?s.submitCount:0,isDirty:h?!1:o.keepDirty?s.isDirty:!!(o.keepDefaultValues&&!ae(i,n)),isSubmitted:o.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:h?{}:o.keepDirtyValues?o.keepDefaultValues&&l?Ne(n,l):s.dirtyFields:o.keepDefaultValues&&i?Ne(n,i):o.keepDirty?s.dirtyFields:{},touchedFields:o.keepTouched?s.touchedFields:{},errors:o.keepErrors?s.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},xs=(i,o)=>hs(Q(i)?i(l):i,o);return{control:{register:qe,unregister:Be,getFieldState:ds,handleSubmit:ms,setError:cs,_executeSchema:ne,_getWatch:N,_getDirty:_,_updateValid:B,_removeUnmounted:De,_updateFieldArray:w,_updateDisabledField:us,_getFieldArray:C,_reset:hs,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(i=>{xs(i,t.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:i=>{s={...s,...i}},_disableForm:ft,_subjects:b,_proxyFormState:g,_setErrors:ee,get _fields(){return a},get _formValues(){return l},get _state(){return c},set _state(i){c=i},get _defaultValues(){return n},get _names(){return u},set _names(i){u=i},get _formState(){return s},set _formState(i){s=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:we,register:qe,handleSubmit:ms,watch:ut,setValue:W,getValues:os,reset:xs,resetField:mt,clearErrors:ct,unregister:Be,setError:cs,setFocus:(i,o={})=>{const d=m(a,i),x=d&&d._f;if(x){const h=x.refs?x.refs[0]:x.ref;h.focus&&(h.focus(),o.shouldSelect&&Q(h.select)&&h.select())}},getFieldState:ds}}function er(e={}){const t=A.useRef(void 0),s=A.useRef(void 0),[a,n]=A.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Zt(e),formState:a});const l=t.current.control;return l._options=e,is({subject:l._subjects.state,next:c=>{Ys(c,l._proxyFormState,l._updateFormState,!0)&&n({...l._formState})}}),A.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),A.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==a.isDirty&&l._subjects.state.next({isDirty:c})}},[l,a.isDirty]),A.useEffect(()=>{e.values&&!ae(e.values,s.current)?(l._reset(e.values,l._options.resetOptions),s.current=e.values,n(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),A.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),A.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),A.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=Js(a,l),t.current}const Cs=(e,t,s)=>{if(e&&"reportValidity"in e){const a=m(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},lt=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?Cs(a.ref,s,e):a&&a.refs&&a.refs.forEach(n=>Cs(n,s,e))}},sr=(e,t)=>{t.shouldUseNativeValidation&&lt(e,t);const s={};for(const a in e){const n=m(t.fields,a),l=Object.assign(e[a]||{},{ref:n&&n.ref});if(tr(t.names||Object.keys(e),a)){const c=Object.assign({},m(s,a));F(c,"root",l),F(s,a,c)}else F(s,a,l)}return s},tr=(e,t)=>{const s=Ds(t);return e.some(a=>Ds(a).match(`^${s}\\.\\d+`))};function Ds(e){return e.replace(/\]|\[/g,"")}function rr(e,t){for(var s={};e.length;){var a=e[0],n=a.code,l=a.message,c=a.path.join(".");if(!s[c])if("unionErrors"in a){var u=a.unionErrors[0].errors[0];s[c]={message:u.message,type:u.code}}else s[c]={message:l,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(g){return g.errors.forEach(function(b){return e.push(b)})}),t){var v=s[c].types,y=v&&v[a.code];s[c]=et(c,t,s,n,y?[].concat(y,a.message):a.message)}e.shift()}return s}function ir(e,t,s){return s===void 0&&(s={}),function(a,n,l){try{return Promise.resolve(function(c,u){try{var v=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(y){return l.shouldUseNativeValidation&&lt({},l),{errors:{},values:s.raw?Object.assign({},a):y}})}catch(y){return u(y)}return v&&v.then?v.then(void 0,u):v}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:sr(rr(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}}const ar=Rt,ot=z.createContext({}),le=({...e})=>r.jsx(ot.Provider,{value:{name:e.name},children:r.jsx(qt,{...e})}),ls=()=>{const e=z.useContext(ot),t=z.useContext(dt),{getFieldState:s}=Ue(),a=Xs({name:e.name}),n=s(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...n}},dt=z.createContext({});function oe({className:e,...t}){const s=z.useId();return r.jsx(dt.Provider,{value:{id:s},children:r.jsx("div",{"data-slot":"form-item",className:be("grid gap-2",e),...t})})}function de({className:e,...t}){const{error:s,formItemId:a}=ls();return r.jsx(es,{"data-slot":"form-label","data-error":!!s,className:be("data-[error=true]:text-destructive",e),htmlFor:a,...t})}function Ae({...e}){const{error:t,formItemId:s,formDescriptionId:a,formMessageId:n}=ls();return r.jsx(At,{"data-slot":"form-control",id:s,"aria-describedby":t?`${a} ${n}`:`${a}`,"aria-invalid":!!t,...e})}function ce({className:e,...t}){const{error:s,formMessageId:a}=ls(),n=s?String((s==null?void 0:s.message)??""):t.children;return n?r.jsx("p",{"data-slot":"form-message",id:a,className:be("text-destructive text-sm",e),...t,children:n}):null}const nr=Y.object({type:Y.string({required_error:"Please select a transaction type"}),payment1:Y.object({network:Y.string({required_error:"Please select a network"}),address:Y.string({required_error:"Please select a wallet address"}),amount:Y.string().min(1,"Amount is required")}),payment2:Y.object({network:Y.string({required_error:"Please select a network"}),address:Y.string({required_error:"Please select a wallet address"}),amount:Y.string().min(1,"Amount is required")})}),lr=({networks:e,wallets:t})=>{const s=vt(),[a,n]=z.useState(!1),[l,c]=z.useState(!1),u=er({resolver:ir(nr),defaultValues:{type:"",payment1:{network:"",address:"",amount:""},payment2:{network:"",address:"",amount:""}}}),v=async y=>{c(!0);const g={...y,payment1:{...y.payment1,amount:"0x"+(Number(y.payment1.amount)*1e18).toString(16)},payment2:{...y.payment2,amount:"0x"+(Number(y.payment2.amount)*1e18).toString(16)}},b=pt(g.payment1.address,g.payment1.network,g.payment1.amount,g.payment2.address,g.payment2.network,g.payment2.amount);pe.promise(b,{loading:"Submitting...",success:"Transaction added successfully",error:"Failed to add transaction"}),await b,n(!1),u.reset(),s.invalidate()};return r.jsxs(Ms,{open:a,onOpenChange:y=>n(y),children:[r.jsx(Is,{asChild:!0,children:r.jsxs(te,{size:"sm",className:"hover:cursor-pointer",children:[r.jsx(Os,{className:"mr-1"}),"Add Transaction"]})}),r.jsxs(Ps,{className:"sm:max-w-[425px]",children:[r.jsxs(Rs,{children:[r.jsx(Us,{children:"Add Transaction"}),r.jsx(Bs,{children:"Click submit when you're done."})]}),r.jsx(ar,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[r.jsx(le,{control:u.control,name:"type",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Type"}),r.jsxs(ue,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Ae,{children:r.jsx(fe,{className:"w-full",children:r.jsx(me,{placeholder:"Select a type"})})}),r.jsxs(he,{children:[r.jsx(q,{value:"payment_vs_payment",children:"Payment vs Payment"}),r.jsx(q,{value:"delivery_vs_payment",children:"Delivery vs Payment"}),r.jsx(q,{value:"receipt_vs_payment",children:"Receipt vs Payment"})]})]}),r.jsx(ce,{})]})}),r.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:r.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Payment 1"})}),r.jsx(le,{control:u.control,name:"payment1.network",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Network"}),r.jsxs(ue,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Ae,{children:r.jsx(fe,{className:"w-full",children:r.jsx(me,{placeholder:"Select a network"})})}),r.jsx(he,{children:e.map(g=>r.jsx(q,{value:g.name,children:Ze(g.name)},g.name))})]}),r.jsx(ce,{})]})}),r.jsx(le,{control:u.control,name:"payment1.address",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Address"}),r.jsxs(ue,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Ae,{children:r.jsx(fe,{className:"w-full",children:r.jsx(me,{placeholder:"Select a network"})})}),r.jsx(he,{children:t.map(g=>r.jsx(q,{value:g.eth_address,children:Le(g.eth_address)},g.eth_address))})]}),r.jsx(ce,{})]})}),r.jsx(le,{control:u.control,name:"payment1.amount",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Amount"}),r.jsx(bs,{type:"number",placeholder:"Enter amount",...y}),r.jsx(ce,{})]})}),r.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:r.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Payment 2"})}),r.jsx(le,{control:u.control,name:"payment2.network",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Network"}),r.jsxs(ue,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Ae,{children:r.jsx(fe,{className:"w-full",children:r.jsx(me,{placeholder:"Select a network"})})}),r.jsx(he,{children:e.map(g=>r.jsx(q,{value:g.name,children:Ze(g.name)},g.name))})]}),r.jsx(ce,{})]})}),r.jsx(le,{control:u.control,name:"payment2.address",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Address"}),r.jsxs(ue,{onValueChange:y.onChange,defaultValue:y.value,children:[r.jsx(Ae,{children:r.jsx(fe,{className:"w-full",children:r.jsx(me,{placeholder:"Select a network"})})}),r.jsx(he,{children:t.map(g=>r.jsx(q,{value:g.eth_address,children:Le(g.eth_address)},g.eth_address))})]}),r.jsx(ce,{})]})}),r.jsx(le,{control:u.control,name:"payment2.amount",render:({field:y})=>r.jsxs(oe,{children:[r.jsx(de,{children:"Amount"}),r.jsx(bs,{type:"text",placeholder:"Enter amount",...y}),r.jsx(ce,{})]})}),r.jsx(te,{type:"submit",disabled:l,className:"w-full",children:l?"Submitting...":"Submit"})]})})]})]})},jr=function(){const{isFetching:t}=bt.useMatch(),s=jt(),{networksWithBalances:a,txs:n,walletAddress:l,allNetworks:c,allWallets:u}=_t({from:"/_layout/"});return r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:"Networks"}),r.jsx(It,{})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:a.map((v,y)=>r.jsxs(Ts,{className:be(v.network_name==="ethereum_sepolia"?"bg-purple-50":"bg-green-50"),children:[r.jsxs(We,{className:"pb-2",children:[r.jsx(He,{children:"Network Name"}),r.jsx("div",{className:"flex items-center gap-2",children:t?r.jsx(Ee,{className:"animate-spin size-4"}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"text-sm font-medium",children:Ze(v.network_name)}),r.jsxs(te,{variant:"ghost",size:"icon",className:"size-6 hover:cursor-pointer",onClick:()=>{navigator.clipboard.writeText(v.network_name),pe("Copied to clipboard",{description:"Network Name has been copied to your clipboard"})},children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:"Copy address"})]})]})})]}),s?null:r.jsxs(r.Fragment,{children:[r.jsxs(We,{className:"pb-2",children:[r.jsx(He,{children:"Wallet Balance"}),r.jsx("div",{className:"flex items-center gap-2",children:t?r.jsx(Ee,{className:"animate-spin size-4"}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"text-sm font-medium",children:Ge(v.balance)}),r.jsxs(te,{variant:"ghost",size:"icon",className:"size-6 hover:cursor-pointer",onClick:()=>{navigator.clipboard.writeText(Ge(v.balance)),pe("Copied to clipboard",{description:"Wallet Balance has been copied to your clipboard"})},children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:"Copy balance"})]})]})})]}),r.jsxs(We,{className:"pb-2",children:[r.jsx(He,{children:"Wallet Address"}),r.jsx("div",{className:"flex items-center gap-2",children:t?r.jsx(Ee,{className:"animate-spin size-4"}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"text-sm font-medium",children:Le(l)}),r.jsxs(te,{variant:"ghost",size:"icon",className:"size-6 hover:cursor-pointer",onClick:()=>{navigator.clipboard.writeText(Ge(v.balance)),pe("Copied to clipboard",{description:"Wallet Balance has been copied to your clipboard"})},children:[r.jsx(Je,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:"Copy balance"})]})]})})]})]}),r.jsx(wt,{children:r.jsx(te,{variant:"outline",className:"w-full hover:cursor-pointer",asChild:!0,children:r.jsxs(Es,{search:!0,to:"/network/$id",params:{id:v.network_name},children:[r.jsx(qs,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"See details"})]})})})]},y+v.network_name))})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:"Transactions"}),s&&r.jsx(lr,{networks:c,wallets:u})]}),t?r.jsx(Ee,{className:"animate-spin size-4"}):r.jsx(Tt,{transactions:n,walletAddress:l})]})]})};export{jr as component};
